@namespace Microsoft.AspNetCore.Components.Forms
@using System.Collections.Generic
@inherits InputBase<TValue>
@typeparam TValue

@if (_isMultipleSelect)
{
    <select @attributes="@(this.As<IReadOnlyDictionary<string, object>>())"
            name="@NameAttributeValue"
            class="@CssClass"
            multiple="@_isMultipleSelect"
            @bind-value:get="@BindConverter.FormatValue(CurrentValue)?.ToString()"
            @bind-value:set="SetCurrentValueAsStringArray"
            @ref="Element">
    </select> 
}
else
{
    <select @attributes="@(this.As<IReadOnlyDictionary<string, object>>())"
            name="@NameAttributeValue"
            class="@CssClass"
            multiple="@_isMultipleSelect"
            @bind-value="@CurrentValueAsString"
            @ref="Element">
    </select>
}